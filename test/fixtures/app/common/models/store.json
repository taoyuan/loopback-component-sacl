{
	"name": "Store",
	"base": "PersistedModel",
	"idInjection": true,
	"options": {
		"validateUpsert": true
	},
	"properties": {
		"id": {
			"type": "string",
			"id": true,
			"required": true
		},
		"name": {
			"type": "string",
			"required": true
		}
	},
	"validations": [],
	"relations": {
		"invoices": {
			"type": "hasMany",
			"model": "Invoice",
			"foreignKey": "storeId"
		},
		"transactions": {
			"type": "hasMany",
			"model": "Transaction",
			"foreignKey": "storeId"
		},
		"products": {
			"type": "hasMany",
			"model": "Product",
			"polymorphic": "store"
		}
	},
	"acls": [
		{
			"accessType": "*",
			"principalType": "ROLE",
			"principalId": "$everyone",
			"permission": "DENY"
		},
		{
			"accessType": "*",
			"principalType": "ROLE",
			"principalId": "$sacl",
			"permission": "ALLOW"
		}
	],
	"security": {
		"actions": [
			"read",
			"write",
			"manage"
		],
		"permissions": [
			{
				"action": "WRITE",
				"methods": [
					"create",
					"updateAttributes",
					"upsert"
				]
			}
		],
		"roles": [
			{
				"name": "member",
				"title": "成员",
				"permissions": [
					"read",
					"invoice:read",
					"transaction:read",
					"product:read"
				]
			},
			{
				"name": "manager",
				"title": "总监/经理",
				"permissions": [
					"write",
					"manage",
					"invoice:read",
					"invoice:write",
					"transaction:read",
					"transaction:write",
					"product:read",
					"product:write"
				]
			},
			{
				"name": "admin",
				"title": "管理员",
				"permissions": [
					"*"
				]
			}
		]
	},
	"methods": {}
}
